{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Users","description":"Operations on user accounts"},{"name":"Transactions","description":"Endpoints for money transfers"}],"paths":{"/api/employee/users/{userId}/verify":{"put":{"tags":["employee-controller"],"operationId":"updateUserVerification","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/employee/accounts/{accountId}":{"put":{"tags":["employee-controller"],"operationId":"updateAccount","parameters":[{"name":"accountId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountUpdateDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/user/auth/register":{"post":{"tags":["auth-controller"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/user/auth/login":{"post":{"tags":["auth-controller"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/transactions/user":{"get":{"tags":["Transactions"],"operationId":"getUserTransactions","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Transaction"}}}}}}},"post":{"tags":["Transactions"],"summary":"Create a new transaction (transfer money)","description":"sender, receiver, and records the transaction.","operationId":"createTransactionForUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Transaction"}}}}}}},"/api/transactions/employee-transfer":{"post":{"tags":["Transactions"],"operationId":"employeeTransfer","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmployeeTransferRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/atm/withdraw":{"post":{"tags":["atm-controller"],"operationId":"withdraw","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AtmTransactionRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransactionDTO"}}}}}}},"/api/atm/deposit":{"post":{"tags":["atm-controller"],"operationId":"deposit","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AtmTransactionRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransactionDTO"}}}}}}},"/api/account/user":{"get":{"tags":["account-controller"],"summary":"Get all users account by usersId","operationId":"getAccountsByUserId","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Account"}}}}}}},"post":{"tags":["account-controller"],"summary":"Post endpoint for requesting a new account for a user","operationId":"CreateAccount","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/user":{"get":{"tags":["Users"],"summary":"List all users","description":"Fetches all registered users in the system.","operationId":"getAllUsers","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}}}}},"/api/user/{id}":{"get":{"tags":["Users"],"summary":"Get a user by ID","description":"Returns a single user when given their unique ID.","operationId":"getUserById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/api/user/auth/check-username":{"get":{"tags":["auth-controller"],"operationId":"checkUsername","parameters":[{"name":"username","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/user/auth/check-email":{"get":{"tags":["auth-controller"],"operationId":"checkEmail","parameters":[{"name":"email","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/user/auth/check-bsn":{"get":{"tags":["auth-controller"],"operationId":"checkBsn","parameters":[{"name":"bsn","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/transactions/paginated":{"get":{"tags":["Transactions"],"operationId":"getPaginatedTransactions","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":15}},{"name":"query","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{}}}}}}}},"/api/transactions/Iban":{"get":{"tags":["Transactions"],"operationId":"getTransactionsByIban","parameters":[{"name":"Iban","in":"query","required":true,"schema":{"type":"string"}},{"name":"page","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageTransactionJoinDTO"}}}}}}},"/api/employee/users":{"get":{"tags":["employee-controller"],"operationId":"getUsers","parameters":[{"name":"username","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"object","additionalProperties":{}}}}}}}}},"/api/employee/users/paginated":{"get":{"tags":["employee-controller"],"operationId":"getUsers_1","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}},{"name":"username","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{}}}}}}}},"/api/atm/accounts":{"get":{"tags":["atm-controller"],"operationId":"getAccountsForCurrentUser","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AccountSummaryDTO"}}}}}}}},"/api/account":{"get":{"tags":["account-controller"],"summary":"get all accounts","operationId":"getAccounts","parameters":[{"name":"page","in":"query","description":"Zero-based page index (0..N)","required":false,"schema":{"type":"integer","default":0,"minimum":0}},{"name":"size","in":"query","description":"The size of the page to be returned","required":false,"schema":{"type":"integer","default":20,"minimum":1}},{"name":"sort","in":"query","description":"Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.","required":false,"schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageAccount"}}}}}}},"/api/account/{id}":{"get":{"tags":["account-controller"],"summary":"Get account by id","operationId":"getAccount","parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Account"}}}}}}},"/api/account/user/savings":{"get":{"tags":["account-controller"],"summary":"Get a users savings account by their userId","operationId":"getSavingsAccountByUserId","parameters":[{"name":"page","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"pageSize","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageAccount"}}}}}}},"/api/account/user/pending":{"get":{"tags":["account-controller"],"summary":"Get a users savings account by their userId","operationId":"getPendingAccountByUserId","parameters":[{"name":"page","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"pageSize","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageAccount"}}}}}}},"/api/account/user/checkings":{"get":{"tags":["account-controller"],"summary":"Get a users checkings account by their userId","operationId":"getCheckingsAccountByUserId","parameters":[{"name":"page","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"pageSize","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageAccount"}}}}}}}},"components":{"schemas":{"AccountUpdateDTO":{"type":"object","properties":{"absoluteLimit":{"type":"number","format":"double"},"dailyLimit":{"type":"number","format":"double"},"verifyAccount":{"type":"string"}}},"Account":{"type":"object","properties":{"accountId":{"type":"integer","format":"int32"},"userId":{"type":"integer","format":"int32"},"owner":{"$ref":"#/components/schemas/User"},"balance":{"type":"number","format":"double"},"dailyLimit":{"type":"number","format":"double"},"absoluteLimit":{"type":"number","format":"double"},"verifyAccount":{"type":"string","enum":["PENDING","REJECTED","ACTIVE","INACTIVE"]},"accountType":{"type":"string","enum":["Checking","Saving"]},"iban":{"type":"string"}}},"User":{"type":"object","properties":{"userId":{"type":"integer","format":"int32"},"accounts":{"type":"array","items":{"$ref":"#/components/schemas/Account"}},"password":{"type":"string"},"username":{"type":"string"},"phoneNumber":{"type":"string"},"bsn":{"type":"string"},"email":{"type":"string"},"role":{"type":"string","enum":["CUSTOMER","EMPLOYEE"]},"verifyUser":{"type":"string","enum":["PENDING","REJECTED","ACTIVE","INACTIVE"]}}},"TransactionRequestDTO":{"type":"object","properties":{"senderIban":{"type":"string"},"receiverIban":{"type":"string"},"amount":{"type":"number","format":"double"},"description":{"type":"string"}}},"Transaction":{"type":"object","properties":{"transactionId":{"type":"integer","format":"int32"},"senderAccount":{"type":"integer","format":"int32"},"sender":{"$ref":"#/components/schemas/Account"},"receiverAccount":{"type":"integer","format":"int32"},"receiver":{"$ref":"#/components/schemas/Account"},"amount":{"type":"number","format":"double"},"description":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"transactionType":{"type":"string","enum":["TRANSFER","WITHDRAW","DEPOSIT"]}}},"EmployeeTransferRequest":{"type":"object","properties":{"senderIBAN":{"type":"string"},"receiverIBAN":{"type":"string"},"amount":{"type":"number","format":"double"},"description":{"type":"string"}}},"AtmTransactionRequestDTO":{"type":"object","properties":{"accountId":{"type":"integer","format":"int32"},"amount":{"type":"number","format":"double","minimum":0.01}},"required":["accountId","amount"]},"TransactionDTO":{"type":"object","properties":{"transactionId":{"type":"integer","format":"int32"},"transactionType":{"type":"string","enum":["TRANSFER","WITHDRAW","DEPOSIT"]},"senderUsername":{"type":"string"},"receiverUsername":{"type":"string"},"amount":{"type":"number","format":"double"},"description":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"AccountRequest":{"type":"object","properties":{"accountType":{"type":"string","enum":["Checking","Saving"]}}},"PageTransactionJoinDTO":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/TransactionJoinDTO"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"paged":{"type":"boolean"},"unpaged":{"type":"boolean"}}},"SortObject":{"type":"object","properties":{"empty":{"type":"boolean"},"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"}}},"TransactionJoinDTO":{"type":"object","properties":{"transactionId":{"type":"integer","format":"int32"},"senderUsername":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"senderIban":{"type":"string"},"receiverIban":{"type":"string"},"receiverUsername":{"type":"string"},"amount":{"type":"number","format":"double"},"description":{"type":"string"}}},"AccountSummaryDTO":{"type":"object","properties":{"accountId":{"type":"integer","format":"int32"},"balance":{"type":"number","format":"double"},"accountType":{"type":"string"}}},"PageAccount":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/Account"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}}}}}